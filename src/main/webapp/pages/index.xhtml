<ui:composition template="/template/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

	<ui:param name="title" value="Willkommen" />

	<ui:define name="content">
		<h:form id="IndexMainForm">
			<p:panel header="Willkommen #{auth.name}" styleClass="login">
				<p:outputLabel>Sie sind eingeloggt mit:</p:outputLabel>
				<br />
				<p:outputLabel>Name: "#{auth.name}"</p:outputLabel>
				<br />
				<p:outputLabel>Rolle: "#{auth.employee.role}"</p:outputLabel>
			</p:panel>
			<p:panel>
			<h:outputText styleClass="overline1" value="Meine Abwesenheiten" />  
				<br />
				<br />
				<p:commandButton id="seePersonalVacations" action="personalVacationView?faces-redirect=true" icon="ui-icon-image" value="Eigene Abwesenheiten verwalten" rendered="#{auth.employee.role != 'guest'}"/>
			</p:panel>
			<p:panel rendered="#{auth.employee.role != 'guest'}">
			<h:outputText styleClass="overline1" value="Meine Terminkonflikte" />  
				<br />
		        <p:selectManyMenu id="conflictMenu" value="#{conflictView.selectedConflicts}" widgetVar="conflictMenu" var="conflict">  
            	<f:selectItems value="#{conflictView.conflicts}" var="conflict" itemLabel="#{conflict.name}" itemValue="#{conflict}"/>  
        		<p:column>#{conflict}</p:column>
        		</p:selectManyMenu>
				<br />
        		<p:commandButton style="align:center" id="solveConflictButton"
						icon="ui-icon-circle-cross" action="#{conflictView.solveConflicts()}"
						value="Konflikt als gelÃ¶st markieren" update=":IndexMainForm:conflictMenu"
						oncomplete="PF('conflictMenu').update" />
			</p:panel>
			
		</h:form>
	</ui:define>

</ui:composition>
