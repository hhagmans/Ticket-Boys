<ui:composition template="/template/template.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

	<h:outputScript library="js" name="common.js" />

	<ui:param name="title" value="Urlaub" />

	<ui:define name="content">
	
	<h:form id="form">  
  
    <p:growl id="messages" showDetail="true" />  
  
    <p:schedule id="schedule" value="#{vacationView.eventModel}" widgetVar="myschedule">  
  
        <p:ajax event="dateSelect" listener="#{vacationView.onDateSelect}" update="eventDetails" oncomplete="PF('eventDialog').show()" />  
        <p:ajax event="eventSelect" listener="#{vacationView.onEventSelect}" update="eventDetails" oncomplete="PF('eventDialog').show()" />  
        <p:ajax event="eventMove" listener="#{vacationView.onEventMove}" update="messages" />  
        <p:ajax event="eventResize" listener="#{vacationView.onEventResize}" update="messages" />  
  
    </p:schedule>  
  
    <p:dialog widgetVar="eventDialog" header="Event Details" showEffect="clip" hideEffect="clip">  
        <h:panelGrid id="eventDetails" columns="2">  
            <h:outputLabel for="title" value="Titel:" />  
            <p:inputText id="title" value="#{vacationView.event.title}" required="true"/>  
  
            <h:outputLabel for="from" value="Von:" />  
            <p:inputMask id="from" value="#{vacationView.event.startDate}" mask="99/99/9999">  
                <f:convertDateTime pattern="dd/MM/yyyy" />  
            </p:inputMask>  
  
            <h:outputLabel for="to" value="Bis:" />  
            <p:inputMask id="to" value="#{vacationView.event.endDate}" mask="99/99/9999">  
                <f:convertDateTime pattern="dd/MM/yyyy" />  
            </p:inputMask>  
  
            <p:commandButton type="reset" value="ZurÃ¼cksetzen" />  
            <p:commandButton id="addButton" value="Speichern" actionListener="#{vacationView.addEvent}" oncomplete="PF('myschedule').update();PF('eventDialog').hide();"/>  
        </h:panelGrid>  
    </p:dialog>  
  
</h:form> 
	</ui:define>

</ui:composition>
